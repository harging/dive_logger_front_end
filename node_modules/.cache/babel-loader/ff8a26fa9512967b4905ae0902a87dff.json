{"ast":null,"code":"var _jsxFileName = \"/Users/gavinhargin/Documents/Projects/dive_app_front_end/src/containers/DiveContainer.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport DiveSelect from '../components/DiveSelect';\nimport Dive from '../components/Dive';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst baseUrl = 'https://dive-logger-back-end.herokuapp.com';\n\nconst DiveContainer = () => {\n  _s();\n\n  const [dives, setDives] = useState([]);\n  const [selectedDiveId, setSelectedDiveId] = useState(null);\n  const [samplePoints, setSamplePoints] = useState([]);\n  useEffect(() => {\n    getDives();\n  }, []);\n\n  async function getDives() {\n    const response = await fetch(`${baseUrl}/dives`);\n\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    const dives = await response.json();\n    setDives(dives);\n  }\n\n  const handleDiveSelected = id => {\n    setSelectedDiveId(id);\n    getSamplePoints(id);\n    window.scrollTo({\n      top: 400,\n      left: 100,\n      behavior: 'smooth'\n    });\n  };\n\n  const getSamplePoints = id => {\n    fetch(`${baseUrl}/samplepoints/bydiveid?diveid=${id}`).then(res => res.json()).then(samplePointsList => setSamplePoints(samplePointsList)).catch(err => console.error(err));\n  };\n\n  const selectedDive = dives.find(dive => dive.id === selectedDiveId);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: dives.length ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"home-page\",\n      children: [/*#__PURE__*/_jsxDEV(Dive, {\n        dive: selectedDive,\n        samplePoints: samplePoints\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(DiveSelect, {\n        dives: dives,\n        dive: selectedDive,\n        onDiveSelected: handleDiveSelected\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: \"Please wait around 15 seconds for the dives to load\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n\n_s(DiveContainer, \"Kzq0Yi7U0g8//KX+feZP97c3yck=\");\n\n_c = DiveContainer;\nexport default DiveContainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"DiveContainer\");","map":{"version":3,"names":["React","useState","useEffect","DiveSelect","Dive","baseUrl","DiveContainer","dives","setDives","selectedDiveId","setSelectedDiveId","samplePoints","setSamplePoints","getDives","response","fetch","ok","Error","status","json","handleDiveSelected","id","getSamplePoints","window","scrollTo","top","left","behavior","then","res","samplePointsList","catch","err","console","error","selectedDive","find","dive","length"],"sources":["/Users/gavinhargin/Documents/Projects/dive_app_front_end/src/containers/DiveContainer.js"],"sourcesContent":["import React from 'react'\nimport { useState, useEffect } from 'react'\nimport DiveSelect from '../components/DiveSelect'\nimport Dive from '../components/Dive'\n\nconst baseUrl = 'https://dive-logger-back-end.herokuapp.com'\n\nconst DiveContainer = () => {\n  const [dives, setDives] = useState([])\n  const [selectedDiveId, setSelectedDiveId] = useState(null)\n  const [samplePoints, setSamplePoints] = useState([])\n\n  useEffect(() => {\n    getDives()\n  }, [])\n\n  async function getDives() {\n    const response = await fetch(`${baseUrl}/dives`)\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`)\n    }\n    const dives = await response.json()\n    setDives(dives)\n  }\n\n  const handleDiveSelected = (id) => {\n    setSelectedDiveId(id)\n    getSamplePoints(id)\n    window.scrollTo({\n      top: 400,\n      left: 100,\n      behavior: 'smooth',\n    })\n  }\n\n  const getSamplePoints = (id) => {\n    fetch(`${baseUrl}/samplepoints/bydiveid?diveid=${id}`)\n      .then((res) => res.json())\n      .then((samplePointsList) => setSamplePoints(samplePointsList))\n      .catch((err) => console.error(err))\n  }\n\n  const selectedDive = dives.find((dive) => dive.id === selectedDiveId)\n\n  return (\n    <>\n      {dives.length ? (\n        <div className=\"home-page\">\n          <Dive dive={selectedDive} samplePoints={samplePoints} />\n          <DiveSelect\n            dives={dives}\n            dive={selectedDive}\n            onDiveSelected={handleDiveSelected}\n          />\n        </div>\n      ) : (\n        <div className=\"loading\">\n          Please wait around 15 seconds for the dives to load\n        </div>\n      )}\n    </>\n  )\n}\n\nexport default DiveContainer\n"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;;;AAEA,MAAMC,OAAO,GAAG,4CAAhB;;AAEA,MAAMC,aAAa,GAAG,MAAM;EAAA;;EAC1B,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACQ,cAAD,EAAiBC,iBAAjB,IAAsCT,QAAQ,CAAC,IAAD,CAApD;EACA,MAAM,CAACU,YAAD,EAAeC,eAAf,IAAkCX,QAAQ,CAAC,EAAD,CAAhD;EAEAC,SAAS,CAAC,MAAM;IACdW,QAAQ;EACT,CAFQ,EAEN,EAFM,CAAT;;EAIA,eAAeA,QAAf,GAA0B;IACxB,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEV,OAAQ,QAAZ,CAA5B;;IACA,IAAI,CAACS,QAAQ,CAACE,EAAd,EAAkB;MAChB,MAAM,IAAIC,KAAJ,CAAW,uBAAsBH,QAAQ,CAACI,MAAO,EAAjD,CAAN;IACD;;IACD,MAAMX,KAAK,GAAG,MAAMO,QAAQ,CAACK,IAAT,EAApB;IACAX,QAAQ,CAACD,KAAD,CAAR;EACD;;EAED,MAAMa,kBAAkB,GAAIC,EAAD,IAAQ;IACjCX,iBAAiB,CAACW,EAAD,CAAjB;IACAC,eAAe,CAACD,EAAD,CAAf;IACAE,MAAM,CAACC,QAAP,CAAgB;MACdC,GAAG,EAAE,GADS;MAEdC,IAAI,EAAE,GAFQ;MAGdC,QAAQ,EAAE;IAHI,CAAhB;EAKD,CARD;;EAUA,MAAML,eAAe,GAAID,EAAD,IAAQ;IAC9BN,KAAK,CAAE,GAAEV,OAAQ,iCAAgCgB,EAAG,EAA/C,CAAL,CACGO,IADH,CACSC,GAAD,IAASA,GAAG,CAACV,IAAJ,EADjB,EAEGS,IAFH,CAESE,gBAAD,IAAsBlB,eAAe,CAACkB,gBAAD,CAF7C,EAGGC,KAHH,CAGUC,GAAD,IAASC,OAAO,CAACC,KAAR,CAAcF,GAAd,CAHlB;EAID,CALD;;EAOA,MAAMG,YAAY,GAAG5B,KAAK,CAAC6B,IAAN,CAAYC,IAAD,IAAUA,IAAI,CAAChB,EAAL,KAAYZ,cAAjC,CAArB;EAEA,oBACE;IAAA,UACGF,KAAK,CAAC+B,MAAN,gBACC;MAAK,SAAS,EAAC,WAAf;MAAA,wBACE,QAAC,IAAD;QAAM,IAAI,EAAEH,YAAZ;QAA0B,YAAY,EAAExB;MAAxC;QAAA;QAAA;QAAA;MAAA,QADF,eAEE,QAAC,UAAD;QACE,KAAK,EAAEJ,KADT;QAEE,IAAI,EAAE4B,YAFR;QAGE,cAAc,EAAEf;MAHlB;QAAA;QAAA;QAAA;MAAA,QAFF;IAAA;MAAA;MAAA;MAAA;IAAA,QADD,gBAUC;MAAK,SAAS,EAAC,SAAf;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAXJ,iBADF;AAkBD,CAvDD;;GAAMd,a;;KAAAA,a;AAyDN,eAAeA,aAAf"},"metadata":{},"sourceType":"module"}